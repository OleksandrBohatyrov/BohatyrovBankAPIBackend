
# User Balance Service

User Balance Service — это API на основе Django, который предоставляет функции управления балансами пользователей и перевода средств между ними. Этот проект использует Django и Django Rest Framework (DRF) для построения RESTful API.

## Оглавление

- [Установка](#установка)
- [Использование](#использование)
- [API Роуты](#api-роуты)
- [Запуск Тестов](#запуск-тестов)
- [Технологии](#технологии)

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/yourusername/user-balance-service.git
cd user-balance-service
```

### 2. Создайте виртуальное окружение

Рекомендуется использовать виртуальное окружение для управления зависимостями.

```bash
python -m venv venv
source venv/bin/activate  # Для Linux/MacOS
venv\Scripts\activate  # Для Windows
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Применение миграций

После настройки окружения и установки зависимостей выполните миграции базы данных:

```bash
python manage.py migrate
```

### 5. Запуск сервера

Для локальной разработки и тестирования:

```bash
python manage.py runserver
```

Теперь сервер доступен по адресу: `http://127.0.0.1:8000/`.

## Использование

Проект предоставляет API для управления балансами пользователей. Взаимодействие с API можно осуществлять через Postman, cURL или встроенную страницу Swagger документации.

### Swagger UI

Интерфейс документации Swagger доступен по следующему адресу:

```
http://127.0.0.1:8000/swagger/
```

## API Роуты

### 1. Получение и изменение баланса пользователя

- **GET /balance/{user_id}/**
  - Описание: Получить баланс пользователя по его ID.
  - Пример: `/balance/3/`

- **PUT /balance/{user_id}/**
  - Описание: Обновить баланс пользователя по его ID (неполное обновление).
  - Пример: `/balance/3/`

### 2. Перевод средств между пользователями

- **POST /balance/transfer/**
  - Описание: Перевод средств с одного пользователя на другого.
  - Пример: `/balance/transfer/`
  - Тело запроса:
    ```json
    {
      "from_user_id": 1,
      "to_user_id": 2,
      "amount": 100.0
    }
    ```

### 3. Создание нового пользователя

- **POST /user/create/**
  - Описание: Создать нового пользователя с нулевым балансом.
  - Пример: `/user/create/`
  - Тело запроса:
    ```json
    {
      "username": "new_user"
    }
    ```

### 4. Получение всех пользователей и их балансов

- **GET /balance/all/**
  - Описание: Получить список всех пользователей и их балансов.
  - Пример: `/balance/all/`

## Запуск Тестов

Чтобы запустить тесты проекта, используйте команду:

```bash
python manage.py test
```

## Технологии

- **Django** — мощный веб-фреймворк для Python
- **Django Rest Framework** — библиотека для создания RESTful API
- **Swagger** — инструмент для автодокументирования API
- **SQLite** — база данных по умолчанию (может быть заменена на другую)
